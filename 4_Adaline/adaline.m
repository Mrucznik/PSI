clear
clc
close all

Letters=[[1 1 1 1 1%A
1 0 0 0 1
1 1 1 1 1
1 0 0 0 1
1 0 0 0 1]
[1 1 1 1 0%B
1 0 0 0 1
1 1 1 1 1
1 0 0 0 1
1 1 1 1 0]%C
[0 1 1 1 0
1 0 0 0 1
1 0 0 0 0
1 0 0 0 1
0 1 1 1 0]%D
[1 1 1 1 0
1 0 0 0 1
1 0 0 0 1
1 0 0 0 1
1 1 1 1 0]%E
[1 1 1 1 1
1 0 0 0 0
1 1 1 1 1
1 0 0 0 0
1 1 1 1 1]%F
[1 1 1 1 1
1 0 0 0 0
1 1 1 1 1
1 0 0 0 0
1 0 0 0 0]%G
[1 1 1 1 1
1 0 0 0 0
1 0 1 1 1
1 0 0 0 1
1 1 1 1 0]%H
[1 0 0 0 1
1 0 0 0 1
1 1 1 1 1
1 0 0 0 1
1 0 0 0 1]%I
[0 0 1 0 0
0 0 1 0 0
0 0 1 0 0
0 0 1 0 0
0 0 1 0 0]%J
[0 1 0 0 0
0 1 0 0 0
0 1 0 0 0
0 1 0 1 0
0 1 1 1 0]%K
[1 0 0 1 0
1 0 1 0 0
1 1 0 0 0
1 0 1 0 0
1 0 0 1 0]%L
[1 0 0 0 0
1 0 0 0 0
1 0 0 0 0
1 0 0 0 0
1 1 1 1 1]%M
[1 0 0 0 1
1 1 0 1 1
1 0 1 0 1
1 0 0 0 1
1 0 0 0 1]%N
[1 0 0 0 1
1 1 0 0 1
1 0 1 0 1
1 0 0 1 1
1 0 0 0 1]%O
[1 1 1 1 1
1 0 0 0 1
1 0 0 0 1
1 0 0 0 1
1 1 1 1 1]%P
[1 1 1 1 1
1 0 0 0 1
1 1 1 1 1
1 0 0 0 0
1 0 0 0 0]%R
[1 1 1 1 1
1 0 0 0 1
1 1 1 1 1
1 0 1 1 0
1 0 0 1 1]%S
[0 1 1 1 1
1 0 0 0 0
0 1 1 1 0
0 0 0 0 1
1 1 1 1 0]%T
[1 1 1 1 1
0 0 1 0 0
0 0 1 0 0
0 0 1 0 0
0 0 1 0 0]%U
[1 0 0 0 1
1 0 0 0 1
1 0 0 0 1
1 0 0 0 1
1 1 1 1 1]%W
[1 0 0 0 1
1 0 0 0 1
1 0 1 0 1
1 1 0 1 1
1 0 0 0 1]%X
[1 0 0 0 1
0 1 0 1 0
0 0 1 0 0
0 1 0 1 0
1 0 0 0 1]%Y
[1 0 0 0 1
0 1 0 1 0
0 0 1 0 0
0 0 1 0 0
0 0 1 0 0]%Z
[1 1 1 1 1
0 0 0 1 0
0 0 1 0 0
0 1 0 0 0
1 1 1 1 1]];

T = []
for i=0:length(Letters)
    Leters(i)
    Letters(i) = reshape(Letters(i),[25 1]);
    T=horzcat(T, Letters(i));
end


net = newhop(T);
%view(net);
W= net.LW{1,1};
b = net.b{1,1};

UnknownLit1=[
1 1 1 1 1
1 0 0 0 1
1 0 0 1 1
1 0 1 0 1
1 0 0 0 1];

UnknownLit2=[
0 0 0 0 0
1 0 0 0 1
1 0 0 0 0
1 0 0 0 1
0 0 0 0 0];

T1=reshape(UnknownLit1,[25,1]);
[odpY] = sim(net,1,[],T1);
odpNN=reshape(odpY,[5 5])

for i=1:5
    for j=1:5
        if (odpNN(i,j)<1 & odpNN(i,j) >=0.5) 
            odpNN(i,j) = 1;
        elseif (odpNN(i,j) < 0.5) 
            odpNN(i,j) = 0;
        end
    end
end
odpNN